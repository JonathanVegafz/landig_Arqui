---
// Componente: Proceso en zigzag con tarjetas como servicios
---

<section class="proceso section-bg-gray" id="proceso" aria-label="Nuestro Proceso">
  <div class="container">
    <div class="section-header">
      <span class="section-subtitle">Nuestro Proceso</span>
      <h2 class="section-title">¿Cómo trabajamos?</h2>
      <p class="section-description">
        Tu proyecto, paso a paso. Un proceso transparente y profesional que garantiza resultados
        excepcionales.
      </p>
    </div>

    <div class="proceso-zigzag">
      <!-- Paso 1 - Izquierda -->
      <div class="proceso-step proceso-step--left scroll-fade">
        <div class="proceso-number">01</div>
        <article class="card-base card-hover card-top-border proceso-card">
          <div class="proceso-card__icon" aria-hidden="true">
            <svg
              width="48"
              height="48"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M9 12l2 2 4-4"></path>
              <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"></path>
            </svg>
          </div>
          <div class="proceso-card__content">
            <h3 class="proceso-card__title">Visión y Asesoramiento</h3>
            <p class="proceso-card__description">
              Nos reunimos contigo para comprender a fondo tus ideas, necesidades y presupuesto. Te
              guiamos con asesoría experta y te proponemos soluciones y materiales innovadores.
            </p>
            <ul class="feature-list-check proceso-card__features">
              <li>Consulta inicial</li>
              <li>Análisis de necesidades</li>
              <li>Propuesta preliminar</li>
            </ul>
          </div>
        </article>
      </div>

      <!-- Paso 2 - Derecha -->
      <div class="proceso-step proceso-step--right scroll-fade">
        <div class="proceso-number">02</div>
        <article class="card-base card-hover card-top-border proceso-card">
          <div class="proceso-card__icon" aria-hidden="true">
            <svg
              width="48"
              height="48"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect>
              <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
              <path d="M12 11h4"></path>
              <path d="M12 16h4"></path>
              <path d="M8 11h.01"></path>
              <path d="M8 16h.01"></path>
            </svg>
          </div>
          <div class="proceso-card__content">
            <h3 class="proceso-card__title">Diseño y Planificación</h3>
            <p class="proceso-card__description">
              Desarrollamos el diseño arquitectónico completo y detallado de tu proyecto. Creamos planos
              técnicos, especificaciones de materiales y coordinamos todos los aspectos del diseño.
            </p>
            <ul class="feature-list-check proceso-card__features">
              <li>Planos arquitectónicos</li>
              <li>Especificaciones técnicas</li>
              <li>Coordinación de permisos</li>
            </ul>
          </div>
        </article>
      </div>

      <!-- Paso 3 - Izquierda -->
      <div class="proceso-step proceso-step--left scroll-fade">
        <div class="proceso-number">03</div>
        <article class="card-base card-hover card-top-border proceso-card">
          <div class="proceso-card__icon" aria-hidden="true">
            <svg
              width="48"
              height="48"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M12 2v4"></path>
              <path d="M12 18v4"></path>
              <path d="M4.93 4.93l2.83 2.83"></path>
              <path d="M16.24 16.24l2.83 2.83"></path>
              <path d="M2 12h4"></path>
              <path d="M18 12h4"></path>
              <path d="M4.93 19.07l2.83-2.83"></path>
              <path d="M16.24 7.76l2.83-2.83"></path>
            </svg>
          </div>
          <div class="proceso-card__content">
            <h3 class="proceso-card__title">Construcción y Supervisión</h3>
            <p class="proceso-card__description">
              Con el diseño aprobado, nuestro equipo da vida a tu proyecto. Supervisamos cada etapa
              con rigurosidad, asegurando calidad, seguridad y cumplimiento de los estándares más altos.
            </p>
            <ul class="feature-list-check proceso-card__features">
              <li>Supervisión continua</li>
              <li>Control de calidad</li>
              <li>Cumplimiento de plazos</li>
            </ul>
          </div>
        </article>
      </div>

      <!-- Paso 4 - Derecha -->
      <div class="proceso-step proceso-step--right scroll-fade">
        <div class="proceso-number">04</div>
        <article class="card-base card-hover card-top-border proceso-card">
          <div class="proceso-card__icon" aria-hidden="true">
            <svg
              width="48"
              height="48"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M9 11l3 3L22 4"></path>
              <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
            </svg>
          </div>
          <div class="proceso-card__content">
            <h3 class="proceso-card__title">Entrega y Satisfacción</h3>
            <p class="proceso-card__description">
              Te entregamos las llaves de tu nuevo hogar, cumpliendo todo lo acordado y asegurando
              tu completa satisfacción. ¡Disfruta de un espacio hecho a tu medida!
            </p>
            <ul class="feature-list-check proceso-card__features">
              <li>Entrega final</li>
              <li>Garantía de obra</li>
              <li>Soporte post-entrega</li>
            </ul>
          </div>
        </article>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const procesoSteps = document.querySelectorAll('.proceso-step');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -100px 0px'
    });

    procesoSteps.forEach(step => {
      observer.observe(step);
    });
  });
</script>

<style>
  /* Estilos específicos para proceso en zigzag */
  .proceso {
    padding: var(--spacing-2xl) 0;
  }

  .proceso-zigzag {
    position: relative;
    max-width: 900px;
    margin: 0 auto;
    padding: var(--spacing-2xl) 0;
  }

  .proceso-step {
    display: flex;
    align-items: center;
    margin-bottom: var(--spacing-3xl);
    position: relative;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .proceso-step.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Zigzag positioning */
  .proceso-step--left {
    justify-content: flex-start;
    transform: translateX(-50px) translateY(30px);
  }

  .proceso-step--left.visible {
    transform: translateX(0) translateY(0);
  }

  .proceso-step--right {
    justify-content: flex-end;
    transform: translateX(50px) translateY(30px);
  }

  .proceso-step--right.visible {
    transform: translateX(0) translateY(0);
  }

  /* Number styling */
  .proceso-number {
    position: absolute;
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 700;
    box-shadow: var(--shadow-lg);
    z-index: 2;
  }

  .proceso-step--left .proceso-number {
    left: -60px;
  }

  .proceso-step--right .proceso-number {
    right: -60px;
  }

  /* Card styling similar to services */
  .proceso-card {
    max-width: 400px;
    min-height: 320px;
    display: flex;
    flex-direction: column;
  }

  .proceso-card__icon {
    color: var(--color-primary);
    margin-bottom: var(--spacing-lg);
    flex-shrink: 0;
  }

  .proceso-card__content {
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .proceso-card__title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-neutral-900);
    margin-bottom: var(--spacing-md);
    line-height: 1.3;
  }

  .proceso-card__description {
    color: var(--color-neutral-700);
    line-height: 1.6;
    margin-bottom: var(--spacing-md);
    flex: 1;
  }

  .proceso-card__features {
    margin-top: auto;
  }

  /* Responsive design */
  @media (max-width: 768px) {
    .proceso-zigzag {
      max-width: 100%;
      padding: var(--spacing-lg) 0;
    }

    .proceso-step {
      flex-direction: column;
      text-align: center;
      margin-bottom: var(--spacing-2xl);
    }

    .proceso-step--left,
    .proceso-step--right {
      justify-content: center;
      transform: translateY(30px);
    }

    .proceso-step--left.visible,
    .proceso-step--right.visible {
      transform: translateY(0);
    }

    .proceso-number {
      position: relative;
      left: auto !important;
      right: auto !important;
      margin-bottom: var(--spacing-md);
    }

    .proceso-card {
      max-width: 100%;
      min-height: auto;
    }
  }

  @media (max-width: 480px) {
    .proceso-step {
      margin-bottom: var(--spacing-xl);
    }

    .proceso-number {
      width: 50px;
      height: 50px;
      font-size: 1.25rem;
    }

    .proceso-card__title {
      font-size: 1.125rem;
    }

    .proceso-card__description {
      font-size: 0.9rem;
    }
  }
</style>
