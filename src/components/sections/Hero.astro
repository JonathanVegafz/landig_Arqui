---
import { Image } from 'astro:assets';
import heroImage from '../../assets/optimized/hero-hero.webp';
---

<section
  class="hero parallax section-bg-white hero-container"
  id="inicio"
  aria-label="Sección principal: Arquitectura que Inspira"
  role="banner"
>
  <div class="hero-background">
    <Image
      src={heroImage}
      alt="Edificio moderno con diseño arquitectónico innovador de IG Construcciones"
      class="hero-image"
      loading="eager"
      fetchpriority="high"
      decoding="async"
      format="webp"
      quality={90}
      width={1920}
      height={1080}
    />
  </div>
  <div class="hero-overlay">
    <div class="container hero-content">
      <header class="hero__text">
        <h1 class="hero-title">
          <span class="hero-title-line"
            >Arquitectura que <span class="hero-highlight">Inspira</span></span
          >
          <span class="hero-title-line"
            >Construcción que <span class="hero-highlight">Perdura</span></span
          >
        </h1>
        <p id="typewriter-p" class="typewriter" aria-live="polite"></p>
      </header>

      <ul class="feature-list fade-in-up delay-300" role="list" aria-label="Características destacadas">
        <li class="feature-item">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            aria-hidden="true"
          >
            <path d="M9 12l2 2 4-4"></path>
            <circle cx="12" cy="12" r="10"></circle>
          </svg>
          <span>20+ años de experiencia</span>
        </li>
        <li class="feature-item">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            aria-hidden="true"
          >
            <path d="M8 2v4"></path>
            <path d="M16 2v4"></path>
            <rect width="18" height="18" x="3" y="4" rx="2"></rect>
            <path d="M3 10h18"></path>
          </svg>
          <span>Eficiencia energética</span>
        </li>
        <li class="feature-item">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            aria-hidden="true"
          >
            <path d="M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"></path>
            <path d="M9 22V12h6v10"></path>
          </svg>
          <span>Construcción sustentable</span>
        </li>
      </ul>

      <div class="hero-buttons fade-in-up delay-500">
        <a href="#cotiza" class="btn btn-primary hero-btn">
          <span>Cotiza tu Proyecto</span>
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M5 12h14M12 5l7 7-7 7"></path>
          </svg>
        </a>
        <a
          href="https://wa.me/56945150212"
          class="btn btn-secondary whatsapp-btn"
          target="_blank"
          rel="noopener"
          aria-label="Contáctanos por WhatsApp"
        >
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M20.52 3.48A12.07 12.07 0 0 0 12 0C5.37 0 0 5.37 0 12c0 2.11.55 4.18 1.6 6.01L0 24l6.18-1.62A11.94 11.94 0 0 0 12 24c6.63 0 12-5.37 12-12 0-3.19-1.24-6.19-3.48-8.52zM12 22c-1.77 0-3.5-.46-5.01-1.33l-.36-.21-3.67.96.98-3.58-.23-.37A9.94 9.94 0 0 1 2 12C2 6.48 6.48 2 12 2c2.54 0 4.93.99 6.73 2.77A9.93 9.93 0 0 1 22 12c0 5.52-4.48 10-10 10zm5.2-7.6c-.28-.14-1.65-.81-1.9-.9-.25-.09-.43-.14-.61.14-.18.28-.7.9-.86 1.08-.16.18-.32.2-.6.07-.28-.14-1.18-.44-2.25-1.4-.83-.74-1.39-1.65-1.55-1.93-.16-.28-.02-.43.12-.57.12-.12.28-.32.42-.48.14-.16.18-.28.28-.46.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47-.16-.01-.34-.01-.52-.01-.18 0-.48.07-.73.34-.25.27-.97.95-.97 2.3 0 1.35.99 2.65 1.13 2.83.14.18 1.95 2.98 4.73 4.06.66.28 1.18.45 1.58.58.66.21 1.26.18 1.73.11.53-.08 1.65-.67 1.88-1.32.23-.65.23-1.2.16-1.32-.07-.12-.25-.18-.53-.32z"
            ></path>
          </svg>
          <span>WhatsApp</span>
        </a>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const texts = [
      'Creamos espacios únicos que reflejan tu personalidad',
      'Diseños sostenibles que respetan el medio ambiente',
      'Calidad garantizada en cada detalle de construcción',
      'Experiencia y confianza en cada proyecto',
    ];

    let textIndex = 0;
    let charIndex = 0;
    let isDeleting = false;
    const typewriterElement = document.getElementById('typewriter-p');

    if (!typewriterElement) return;

    function typeWriter() {
      const currentText = texts[textIndex];

      if (!isDeleting) {
        typewriterElement.textContent = currentText.slice(0, charIndex + 1);
        charIndex++;

        if (charIndex === currentText.length) {
          setTimeout(() => {
            isDeleting = true;
          }, 2000);
        }
      } else {
        typewriterElement.textContent = currentText.slice(0, charIndex - 1);
        charIndex--;

        if (charIndex === 0) {
          isDeleting = false;
          textIndex = (textIndex + 1) % texts.length;
        }
      }

      const typingSpeed = isDeleting ? 50 : 100;
      setTimeout(typeWriter, typingSpeed);
    }

    setTimeout(() => {
      typeWriter();
    }, 1200);
  });
</script>

<style>
  /* Estilos específicos únicos del Hero */
  .whatsapp-btn {
    background: #25d366;
    color: white;
    border: none;
  }

  .whatsapp-btn:hover {
    background: #128c7e;
    color: white;
  }

  .hero__text {
    margin-bottom: var(--spacing-xl);
  }

  /* Animaciones específicas del hero */
  .hero-title {
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 1s ease-out 0.5s forwards;
  }

  .feature-list {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 1s ease-out 1.3s forwards;
  }


</style>
