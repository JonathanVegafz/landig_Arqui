---
import '../styles/global.css';
import Header from '../components/sections/Header.astro';
import Footer from '../components/sections/Footer.astro';
import SEO from '../components/SEO.astro';
const {
  title = 'IG Construcciones - Arquitectura y Construcción en la V Región',
  description = 'IG Construcciones: Arquitectura y construcción en la V Región. Diseño, obras nuevas y eficiencia energética. Calidad, confianza y experiencia.',
  canonical = 'https://www.igconstruccionesspa.cl/',
  ogImage = undefined,
  ogType = 'website',
} = Astro.props;
---

<html lang="es">
  <head>
  <meta charset="UTF-8" />
  <SEO title={title} description={description} canonical={canonical} image={ogImage} type={ogType} />
  <meta name="robots" content="index, follow" />
  <meta name="author" content="IG Construcciones" />
  <meta name="keywords" content="arquitectura, construcción, V Región, Chile, diseño arquitectónico, obras nuevas, eficiencia energética, Maitencillo, construcción sustentable, paneles SIP, metalcom, EIFS" />
    
    <!-- SEO adicional -->
    <meta name="format-detection" content="telephone=yes" />
    <meta name="theme-color" content="#77bcdb" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="IG Construcciones" />
    
    
    <!-- Enlaces canónicos y alternativos -->
    <link rel="canonical" href={canonical} />
    <link rel="alternate" hreflang="es" href={canonical} />
    <link rel="alternate" hreflang="x-default" href={canonical} />

  <!-- Open Graph detallado movido a componente SEO -->
  

  <!-- Self-hosted fonts: ver /src/styles/base/fonts.css (sin dependencias externas) -->


    <!-- Structured Data -->
    <script type="application/ld+json">
      {JSON.stringify({
        '@context': 'https://schema.org',
        '@type': 'LocalBusiness',
        name: 'IG Construcciones',
        description:
          'Arquitectura y construcción en la V Región de Chile. Diseño, obras nuevas y eficiencia energética.',
        url: 'https://www.igconstruccionesspa.cl/',
        telephone: '+56945150212',
        email: 'Y.ordenes.t@gmail.com',
        address: {
          '@type': 'PostalAddress',
          addressLocality: 'Maitencillo',
          addressRegion: 'V Región',
          addressCountry: 'CL',
        },
        geo: {
          '@type': 'GeoCoordinates',
          latitude: '-32.5',
          longitude: '-71.5',
        },
        openingHours: 'Mo-Fr 09:00-18:00',
        priceRange: '$$',
        serviceType: ['Arquitectura', 'Construcción', 'Diseño'],
        areaServed: 'V Región, Chile',
        hasOfferCatalog: {
          '@type': 'OfferCatalog',
          name: 'Servicios de Construcción',
          itemListElement: [
            {
              '@type': 'Offer',
              itemOffered: {
                '@type': 'Service',
                name: 'Diseño Arquitectónico Personalizado',
              },
            },
            {
              '@type': 'Offer',
              itemOffered: {
                '@type': 'Service',
                name: 'Construcción de Obras Nuevas',
              },
            },
            {
              '@type': 'Offer',
              itemOffered: {
                '@type': 'Service',
                name: 'Eficiencia Energética y Climatización',
              },
            },
          ],
        },
      })}
    </script>
  </head>
  <body>
    <!-- Skip links para accesibilidad -->
    <a href="#main-content" class="skip-link">Saltar al contenido principal</a>
    <a href="#main-navigation" class="skip-link">Saltar a la navegación</a>
    
    <div id="main-content">
      <Header id="main-header" />
      <slot />
      <Footer />
    </div>
    <script>
      // Carga diferida del efecto scroll-fade centralizado
      import('../lib/interactions/scrollFade');
    </script>
    <style>
      /* Skip links para accesibilidad */
      .skip-link {
        position: absolute;
        top: -40px;
        left: 6px;
        background: var(--color-primary);
        color: white;
        padding: 8px;
        text-decoration: none;
        z-index: 10000;
        border-radius: 4px;
        font-weight: 600;
      }
      
      .skip-link:focus {
        top: 6px;
      }
      
  /* Eliminado preloader - estilos removidos */
    </style>
  </body>
</html>
